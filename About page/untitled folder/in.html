<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vertical Slider</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }
        
        .slider-container {
            height: 100vh;
            width: 100vw;
            position: relative;
        }
        
        .section {
            height: 100vh;
            width: 100vw;
            display: flex;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .image-column, .text-column {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }
        
        .image-container {
            width: 80%;
            height: 80%;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .text-content {
            width: 80%;
        }
        
        .text-content h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: #333;
        }
        
        .text-content p {
            font-size: 1.2rem;
            line-height: 1.6;
            color: #555;
        }
        
        /* Section-specific styles */
        #section1 {
            background-color: #f8f9fa;
        }
        
        #section2 {
            background-color: #e9ecef;
        }
        
        #section3 {
            background-color: #dee2e6;
        }
    </style>
</head>
<body>
    <div class="slider-container">
        <!-- Section 1: Image right, text left -->
        <div class="section" id="section1">
            <div class="text-column" style="order: 1;">
                <div class="text-content">
                    <h2>مرحبًا بك في قسمنا الأول</h2>
                    <p>هذا هو المحتوى النصي للقسم الأول. هنا يمكنك وضع عبارات ترحيبية أو معلومات تعريفية عن موقعك أو خدمتك.</p>
                </div>
            </div>
            <div class="image-column" style="order: 2;">
                <div class="image-container">
                    <img src="https://source.unsplash.com/random/800x600?nature" alt="صورة القسم الأول">
                </div>
            </div>
        </div>
        
        <!-- Section 2: Image left, text right -->
        <div class="section" id="section2">
            <div class="image-column" style="order: 1;">
                <div class="image-container">
                    <img src="https://source.unsplash.com/random/800x600?city" alt="صورة القسم الثاني">
                </div>
            </div>
            <div class="text-column" style="order: 2;">
                <div class="text-content">
                    <h2>هذا هو القسم الثاني</h2>
                    <p>في هذا القسم، يمكنك عرض ميزات إضافية أو معلومات أخرى تريد مشاركتها مع زوار موقعك.</p>
                </div>
            </div>
        </div>
        
        <!-- Section 3: Image right, text left -->
        <div class="section" id="section3">
            <div class="text-column" style="order: 1;">
                <div class="text-content">
                    <h2>القسم الثالث والأخير</h2>
                    <p>هنا يمكنك وضع خاتمة أو دعوة للعمل، مثل زر للاتصال أو التسجيل في خدمتك.</p>
                </div>
            </div>
            <div class="image-column" style="order: 2;">
                <div class="image-container">
                    <img src="https://source.unsplash.com/random/800x600?technology" alt="صورة القسم الثالث">
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('.section');
            let currentSection = 0;
            let isAnimating = false;
            let touchStartY = 0;
            let wheelTimeout = null;
            
            // Set initial positions for all sections
            gsap.set('#section1', { y: '0%' });
            gsap.set('#section2', { y: '100%' });
            gsap.set('#section3', { y: '100%' });
            
            // Initial animations for first section
            gsap.from('#section1 .image-container', {
                y: '100%',
                duration: 1,
                ease: 'power3.out'
            });
            
            gsap.from('#section1 .text-content', {
                x: '-100%',
                duration: 1,
                ease: 'power3.out',
                delay: 0.3
            });
            
            // Event listeners
            window.addEventListener('wheel', handleWheel, { passive: false });
            window.addEventListener('touchstart', handleTouchStart, { passive: false });
            window.addEventListener('touchend', handleTouchEnd, { passive: false });
            
            function handleTouchStart(e) {
                touchStartY = e.touches[0].clientY;
            }
            
            function handleTouchEnd(e) {
                const touchEndY = e.changedTouches[0].clientY;
                const diff = touchStartY - touchEndY;
                
                if (Math.abs(diff) > 50) {
                    if (diff > 0) {
                        // Swiped up - next section
                        navigate(1);
                    } else {
                        // Swiped down - previous section
                        navigate(-1);
                    }
                }
            }
            
            function handleWheel(e) {
                e.preventDefault();
                
                if (isAnimating) return;
                
                // Debounce wheel events
                if (wheelTimeout) {
                    clearTimeout(wheelTimeout);
                }
                
                wheelTimeout = setTimeout(() => {
                    if (e.deltaY > 0) {
                        // Scrolling down - next section
                        navigate(1);
                    } else if (e.deltaY < 0) {
                        // Scrolling up - previous section
                        navigate(-1);
                    }
                }, 100);
            }
            
            function navigate(direction) {
                if (isAnimating) return;
                
                const nextSectionIndex = currentSection + direction;
                
                // Check boundaries
                if (nextSectionIndex < 0 || nextSectionIndex >= sections.length) {
                    return;
                }
                
                isAnimating = true;
                
                const currentSectionElement = sections[currentSection];
                const nextSectionElement = sections[nextSectionIndex];
                
                if (direction === 1) {
                    // Scroll down to next section
                    animateToNextSection(currentSectionElement, nextSectionElement);
                } else {
                    // Scroll up to previous section
                    animateToPreviousSection(currentSectionElement, nextSectionElement);
                }
                
                currentSection = nextSectionIndex;
            }
            
            function animateToNextSection(currentEl, nextEl) {
                // Current section elements out
                gsap.to(currentEl.querySelector('.image-container'), {
                    y: '-100%',
                    duration: 0.8,
                    ease: 'power3.in'
                });
                
                // Text slides out in the same direction it came in
                const textOutX = currentEl.querySelector('.text-column').style.order === '1' ? '-100%' : '100%';
                gsap.to(currentEl.querySelector('.text-content'), {
                    x: textOutX,
                    duration: 0.8,
                    ease: 'power3.in'
                });
                
                // Next section elements in
                gsap.fromTo(nextEl, 
                    { y: '100%' },
                    { 
                        y: '0%',
                        duration: 1,
                        ease: 'power3.out',
                        onComplete: () => {
                            isAnimating = false;
                        }
                    }
                );
                
                gsap.from(nextEl.querySelector('.image-container'), {
                    y: '100%',
                    duration: 1,
                    ease: 'power3.out',
                    delay: 0.3
                });
                
                // Text slides in from correct direction
                const textInX = nextEl.querySelector('.text-column').style.order === '1' ? '-100%' : '100%';
                gsap.from(nextEl.querySelector('.text-content'), {
                    x: textInX,
                    duration: 1,
                    ease: 'power3.out',
                    delay: 0.3
                });
            }
            
            function animateToPreviousSection(currentEl, nextEl) {
                // Current section elements out
                gsap.to(currentEl.querySelector('.image-container'), {
                    y: '100%',
                    duration: 0.8,
                    ease: 'power3.in'
                });
                
                // Text slides out in opposite direction it came in
                const textOutX = currentEl.querySelector('.text-column').style.order === '1' ? '100%' : '-100%';
                gsap.to(currentEl.querySelector('.text-content'), {
                    x: textOutX,
                    duration: 0.8,
                    ease: 'power3.in'
                });
                
                // Next section elements in
                gsap.fromTo(nextEl, 
                    { y: '-100%' },
                    { 
                        y: '0%',
                        duration: 1,
                        ease: 'power3.out',
                        onComplete: () => {
                            isAnimating = false;
                        }
                    }
                );
                
                gsap.from(nextEl.querySelector('.image-container'), {
                    y: '-100%',
                    duration: 1,
                    ease: 'power3.out',
                    delay: 0.3
                });
                
                // Text slides in from correct direction
                const textInX = nextEl.querySelector('.text-column').style.order === '1' ? '-100%' : '100%';
                gsap.from(nextEl.querySelector('.text-content'), {
                    x: textInX,
                    duration: 1,
                    ease: 'power3.out',
                    delay: 0.3
                });
            }
        });
    </script>
</body>
</html>